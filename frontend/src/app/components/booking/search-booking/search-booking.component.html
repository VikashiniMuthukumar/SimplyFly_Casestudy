<div class="container mt-4">
  <h4>Search Bookings by Status</h4>

  <form (ngSubmit)="searchBooking()" #statusForm="ngForm" class="mb-3 d-flex gap-2">
    <select class="form-control w-auto" style="margin-right: 10px;" [(ngModel)]="status" name="status" required>
      <option value="" disabled selected>Select status</option>
      <option value="CONFIRMED">CONFIRMED</option>
      <option value="CANCELLED">CANCELLED</option>
      <option value="APPLIED">APPLIED</option>
    </select>
    <button class="btn btn-primary" [disabled]="statusForm.invalid">Search</button>
  </form>

  <div *ngIf="bookings.length > 0">
    <h5 class="text-center text-info mb-3">Booking Results</h5>
    
    <div class="row">
      <div class="col-md-6 col-lg-4 mb-4" *ngFor="let booking of bookings">
        <div class="card shadow-sm border rounded">
          <div class="card-body">
            <h5 class="card-title text-primary">{{ booking.flightName | uppercase }}</h5>
            <p class="mb-1"><strong>Booking ID:</strong> {{ booking.bookingId }}</p>
            <p class="mb-1"><strong>User:</strong> {{ booking.username }}</p>
            <p class="mb-1"><strong>Origin:</strong> {{ booking.origin }}</p>
            <p class="mb-1"><strong>Destination:</strong> {{ booking.destination }}</p>
            <p class="mb-1"><strong>Date:</strong> {{ booking.bookDate }}</p>
            <p class="mb-1"><strong>Fare (â‚¹):</strong> {{ booking.totalFare }}</p>
            <p class="mb-1"><strong>Status:</strong> {{ booking.status }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="errorMsg" class="alert alert-danger mt-3 text-center">
    {{ errorMsg }}
  </div>
</div>
